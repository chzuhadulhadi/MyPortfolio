import{j as N,a as o}from"./jsx-runtime-BQA5H8uj.js";import{V as j}from"./visually-hidden-g66Jvf3B.js";import{r as i}from"./index-CBqU2yxZ.js";import{c as C}from"./style-CdEeFtaU.js";import{u as G}from"./use-reduced-motion-CCptBKkH.js";import{u as D}from"./use-spring-Cmob5oOX.js";import{H as E}from"./heading-CPCozg2v.js";import{S as I}from"./story-container-BmzpGumI.js";import"./_commonjsHelpers-BosuxZz1.js";import"./is-browser-KK9OLXwR.js";import"./index-DdXbtMh7.js";import"./frame-COx4tYGr.js";import"./use-constant-GMTLHggF.js";async function R(e){return new Promise(t=>setTimeout(t,e))}const k="_text_1v07c_2",q="_glyph_1v07c_9",w="_value_1v07c_16",d={text:k,glyph:q,value:w},v=["ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ー","ラ","リ","ル","レ","ロ","ワ","ヰ","ヱ","ヲ","ン","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ヂ","ヅ","デ","ド","バ","ビ","ブ","ベ","ボ","パ","ピ","プ","ペ","ポ"],s={Glyph:"glyph",Value:"value"};function O(e,t,a){return e.map((m,c)=>{if(c<a)return{type:s.Value,value:m};if(a%1<.5){const r=Math.floor(Math.random()*v.length);return{type:s.Glyph,value:v[r]}}return{type:s.Glyph,value:t[c].value}})}const V=i.memo(({text:e,start:t=!0,delay:a=0,className:m,...c})=>{const r=i.useRef([{type:s.Glyph,value:""}]),g=i.useRef(),f=G(),y=D(0,{stiffness:8,damping:5});return i.useEffect(()=>{const H=g.current,l=e.split("");let M;const x=()=>{const u=r.current.map(p=>`<span class="${d[p.type]}">${p.value}</span>`);H.innerHTML=u.join("")},h=y.on("change",u=>{r.current=O(l,r.current,u),x()});return t&&!M&&!f&&(async()=>{await R(a),y.set(l.length)})(),f&&(r.current=l.map((u,p)=>({type:s.Value,value:l[p]})),x()),()=>{h==null||h()}},[y,f,t,a,e]),N("span",{className:C(d.text,m),...c,children:[o(j,{className:d.label,children:e}),o("span",{"aria-hidden":!0,className:d.content,ref:g})]})});V.__docgenInfo={description:"",methods:[],displayName:"DecoderText",props:{start:{defaultValue:{value:"true",computed:!1},required:!1},delay:{defaultValue:{value:"0",computed:!1},required:!1}}};const Y={title:"DecoderText",args:{text:"Slick cyberpunk text"}},n=({text:e})=>o(I,{children:o(E,{level:3,children:o(V,{delay:0,text:e})})});n.__docgenInfo={description:"",methods:[],displayName:"Text"};var _,T,S;n.parameters={...n.parameters,docs:{...(_=n.parameters)==null?void 0:_.docs,source:{originalSource:`({
  text
}) => <StoryContainer>
    <Heading level={3}>
      <DecoderText delay={0} text={text} />
    </Heading>
  </StoryContainer>`,...(S=(T=n.parameters)==null?void 0:T.docs)==null?void 0:S.source}}};const Z=["Text"];export{n as Text,Z as __namedExportsOrder,Y as default};
