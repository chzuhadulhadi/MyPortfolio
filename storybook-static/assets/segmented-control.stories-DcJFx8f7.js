import{a as i,j as b}from"./jsx-runtime-BQA5H8uj.js";import{V as O}from"./visually-hidden-g66Jvf3B.js";import{r as n}from"./index-CBqU2yxZ.js";import{a as R}from"./style-CdEeFtaU.js";import{S as I}from"./story-container-BmzpGumI.js";import"./_commonjsHelpers-BosuxZz1.js";const k="_container_vdycn_2",N="_options_vdycn_6",D="_button_vdycn_26",A="_indicator_vdycn_67",_={container:k,options:N,button:D,indicator:A},h=n.createContext({}),y=({children:s,currentIndex:o,onChange:c,label:l,...a})=>{const f=`${n.useId()}segmented-control-label`,e=n.useRef([]),[m,g]=n.useState(),x=t=>{const{length:r}=e.current,p=(o-1+r)%r,d=(o+1)%r;["ArrowLeft","ArrowUp"].includes(t.key)?(c(p),e.current[p].current.focus()):["ArrowRight","ArrowDown"].includes(t.key)&&(c(d),e.current[d].current.focus())},v=n.useCallback(t=>{e.current=[...e.current,t]},[]),S=n.useCallback(t=>{e.current=e.current.filter(r=>r!==t)},[]);return n.useEffect(()=>{var p;const t=(p=e.current[o])==null?void 0:p.current,r=new ResizeObserver(()=>{const d=t==null?void 0:t.getBoundingClientRect(),w=t==null?void 0:t.offsetLeft;g({width:d==null?void 0:d.width,left:w})});return r.observe(t),()=>{r.disconnect()}},[o]),i(h.Provider,{value:{optionRefs:e,currentIndex:o,onChange:c,registerOption:v,unRegisterOption:S},children:b("div",{className:_.container,role:"radiogroup",tabIndex:"0","aria-labelledby":f,onKeyDown:x,...a,children:[i(O,{as:"label",id:f,children:l}),b("div",{className:_.options,children:[!!m&&i("div",{className:_.indicator,"data-last":o===e.current.length-1,style:R(m)}),s]})]})})},C=({children:s,...o})=>{const{optionRefs:c,currentIndex:l,onChange:a,registerOption:u,unRegisterOption:f}=n.useContext(h),e=n.useRef(),m=c.current.indexOf(e),g=l===m;return n.useEffect(()=>(u(e),()=>{f(e)}),[u,f]),i("button",{className:_.button,tabIndex:g?0:-1,role:"radio","aria-checked":g,onClick:()=>a(m),ref:e,...o,children:s})};y.__docgenInfo={description:"",methods:[],displayName:"SegmentedControl"};C.__docgenInfo={description:"",methods:[],displayName:"SegmentedControlOption"};const V={title:"SegmentedControl",args:{options:["Option 1","Option 2","Option 3"]}};function E({options:s,...o}){const[c,l]=n.useState(0);return i(I,{children:i(y,{currentIndex:c,onChange:l,...o,children:s==null?void 0:s.map((a,u)=>i(C,{children:a},`${a}-${u}`))})})}const B=E.bind({}),H=["Default"];export{B as Default,H as __namedExportsOrder,V as default};
