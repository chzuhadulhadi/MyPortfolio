import{r as n}from"./index-CBqU2yxZ.js";import{m as p,i as f,a as l}from"./index-DdXbtMh7.js";import{u as g,a as S}from"./use-constant-GMTLHggF.js";import{f as x}from"./frame-COx4tYGr.js";const m=n.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function y(t){const a=g(()=>p(t)),{isStatic:s}=n.useContext(m);if(s){const[,o]=n.useState(t);n.useEffect(()=>a.on("change",o),[])}return a}function v(t,a={}){const{isStatic:s}=n.useContext(m),o=n.useRef(null),e=y(f(t)?t.get():t),u=()=>{o.current&&o.current.stop()};return n.useInsertionEffect(()=>e.attach((r,c)=>{if(s)return c(r);const i=o.current;return i&&i.time===0&&i.sample(x.delta),u(),o.current=l({keyframes:[e.get(),r],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:c}),e.get()},u),[JSON.stringify(a)]),S(()=>{if(f(t))return t.on("change",r=>e.set(parseFloat(r)))},[e]),e}export{v as u};
