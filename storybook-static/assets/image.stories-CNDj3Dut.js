import{a,j as N}from"./jsx-runtime-BQA5H8uj.js";import{B as Z}from"./button-Z2kyZSb6.js";import{I as $}from"./icon-Dh4uomy1.js";import{r as e}from"./index-CBqU2yxZ.js";import{u as ee,r as te}from"./image-ChZ8EMgz.js";import{c as ae,a as P,n as T}from"./style-CdEeFtaU.js";import{u as re}from"./theme-provider-L5YUw23u.js";import{u as ne}from"./use-reduced-motion-CCptBKkH.js";import{S as se}from"./story-container-BmzpGumI.js";import"./loader-CueMVWeZ.js";import"./text-DTChpUZj.js";import"./transition-BzLjgPht.js";import"./use-constant-GMTLHggF.js";import"./is-browser-KK9OLXwR.js";import"./frame-COx4tYGr.js";import"./components-CTfR_Gqy.js";import"./index-BtM5VmRH.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-CpXMnJUM.js";import"../sb-preview/runtime.js";import"./theme-C2s-KA77.js";function oe(){const[t,r]=e.useState(!1);return e.useEffect(()=>{r(!0)},[]),t}const ie="_image_4szht_2",le="_container_4szht_42",ce="_elementWrapper_4szht_49",de="_placeholder_4szht_71",me="_element_4szht_49",pe="_button_4szht_104",l={image:ie,container:le,elementWrapper:ce,placeholder:de,element:me,button:pe},H=({className:t,style:r,reveal:n,delay:o=0,raised:R,src:v,srcSet:i,placeholder:_,...c})=>{const[d,V]=e.useState(!1),{theme:m}=re(),p=e.useRef(),u=v||i.split(" ")[0],S=ee(p,!G(u)),f=e.useCallback(()=>{V(!0)},[]);return a("div",{className:ae(l.image,t),"data-visible":S||d,"data-reveal":n,"data-raised":R,"data-theme":m,style:P({delay:T(o)},r),ref:p,children:a(ue,{delay:o,onLoad:f,loaded:d,inViewport:S,reveal:n,src:u,srcSet:i,placeholder:_,...c})})},ue=({onLoad:t,loaded:r,inViewport:n,srcSet:o,placeholder:R,delay:v,src:i,alt:_,play:c=!0,restartOnPause:d,reveal:V,sizes:m,width:p,height:u,noPauseButton:S,cover:f,...D})=>{const b=ne(),[K,O]=e.useState(!0),[M,x]=e.useState(!b),[E,j]=e.useState(),[z,Q]=e.useState(!1),U=e.useRef(),s=e.useRef(),g=G(i),A=n,X=oe();e.useEffect(()=>{g&&o?(async()=>{const C=await te({srcSet:o,sizes:m});j(C)})():g&&j(i)},[g,m,i,o]),e.useEffect(()=>{if(!s.current||!E)return;const I=()=>{x(!0),s.current.play()},C=()=>{x(!1),s.current.pause()};c||(C(),d&&(s.current.currentTime=0)),!z&&(n?n&&!b&&c&&I():C())},[n,c,b,d,z,E]);const Y=I=>{I.preventDefault(),Q(!0),s.current.paused?(x(!0),s.current.play()):(x(!1),s.current.pause())};return N("div",{className:l.elementWrapper,"data-reveal":V,"data-visible":n||r,style:P({delay:T(v+1e3)}),children:[g&&X&&N(e.Fragment,{children:[a("video",{muted:!0,loop:!0,playsInline:!0,className:l.element,"data-loaded":r,"data-cover":f,autoPlay:!b,onLoadStart:t,src:E,"aria-label":_,ref:s,...D}),!S&&N(Z,{className:l.button,onClick:Y,children:[a($,{icon:M?"pause":"play"}),M?"Pause":"Play"]})]}),!g&&a("img",{className:l.element,"data-loaded":r,"data-cover":f,onLoad:t,decoding:"async",src:A?i:void 0,srcSet:A?o:void 0,width:p,height:u,alt:_,sizes:m,...D}),K&&a("img",{"aria-hidden":!0,className:l.placeholder,"data-loaded":r,"data-cover":f,style:P({delay:T(v)}),ref:U,src:R,width:p,height:u,onTransitionEnd:()=>O(!1),decoding:"async",loading:"lazy",alt:"",role:"presentation"})]})};function G(t){return typeof t=="string"&&t.includes(".mp4")}H.__docgenInfo={description:"",methods:[],displayName:"Image",props:{delay:{defaultValue:{value:"0",computed:!1},required:!1}}};const ze={title:"Image"},k={alt:"An abstract purple and pink neon thing",src:"/static/modern-styling-in-react-banner.jpg",width:960,height:540,placeholder:"/static/modern-styling-in-react-banner-placeholder.jpg"},J=t=>a(se,{children:a("div",{style:{display:"grid",gridTemplateColumns:"minmax(0px, 960px)"},children:a(H,{alt:"An abstract purple and pink neon thing",...k,...t})})}),h=J.bind({});h.args={...k};const y=J.bind({});y.args={...k,reveal:!0};var W,F,w;h.parameters={...h.parameters,docs:{...(W=h.parameters)==null?void 0:W.docs,source:{originalSource:`args => <StoryContainer>
    <div style={{
    display: 'grid',
    gridTemplateColumns: 'minmax(0px, 960px)'
  }}>
      <Image alt="An abstract purple and pink neon thing" {...imageData} {...args} />
    </div>
  </StoryContainer>`,...(w=(F=h.parameters)==null?void 0:F.docs)==null?void 0:w.source}}};var B,L,q;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:`args => <StoryContainer>
    <div style={{
    display: 'grid',
    gridTemplateColumns: 'minmax(0px, 960px)'
  }}>
      <Image alt="An abstract purple and pink neon thing" {...imageData} {...args} />
    </div>
  </StoryContainer>`,...(q=(L=y.parameters)==null?void 0:L.docs)==null?void 0:q.source}}};const Ae=["Default","Reveal"];export{h as Default,y as Reveal,Ae as __namedExportsOrder,ze as default};
